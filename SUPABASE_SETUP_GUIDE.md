# Supabase Setup Instructions

## Step 1: Log into Supabase Dashboard

1. Go to https://supabase.com/dashboard
2. Log in with your credentials
3. Select your project (dyoyfbopdgjmubbuqifd)

## Step 2: Open SQL Editor

1. Click on **SQL Editor** in the left sidebar
2. Click **New Query**

## Step 3: Copy and Paste the SQL

Copy the entire SQL code below and paste it into the SQL editor:

```sql
-- Create the installers table
create table public.installers (
  id bigint generated by default as identity primary key,
  business_name text not null,
  contact_person text,
  city text not null,
  phone text not null,
  email text,
  experience_years int default 0,
  is_verified boolean default false,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);

-- Enable Row Level Security
alter table public.installers enable row level security;

-- Policy: Anyone can view the list of installers
create policy "Allow public read access"
on public.installers for select
using (true);

-- Policy: Anyone can apply to be an installer
create policy "Allow public insert"
on public.installers for insert
with check (true);

-- Add sample data for Chennai
insert into public.installers (business_name, contact_person, city, phone, experience_years, is_verified)
values
('Chennai Rain Savers', 'Rajesh Kumar', 'Chennai', '+91 98765 43210', 5, true),
('AquaBlue Solutions', 'Sarah Thomas', 'Chennai', '+91 91234 56789', 8, true),
('EcoHome Plumbers', 'Muthu', 'Chennai', '+91 99887 76655', 3, true);
```

## Step 4: Execute the Query

1. Click the **Run** button (play icon) or press `Ctrl+Enter`
2. Wait for the query to complete
3. You should see a success message

## Step 5: Verify

Go to **Table Editor** in the left sidebar and you should see the new `installers` table with 3 sample rows.

## What This Creates

✅ `installers` table with columns:

- business_name
- contact_person
- city
- phone
- email
- experience_years
- is_verified
- created_at

✅ Row Level Security (RLS) policies:

- Public can view verified installers
- Public can submit new installer applications

✅ Sample data:

- 3 verified installers in Chennai

## After Setup

Your frontend will automatically:

- Display the list of verified installers
- Show a registration form for new installers
- Filter by the user's detected city

---

**Troubleshooting:**

- If you get permission errors, ensure you're running as the authenticated user (not anon key issues)
- If the table already exists, you'll get an error - just delete it first under Table Editor
